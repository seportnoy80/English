<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>לימוד אנגלית</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen">

    <div class="bg-white p-6 rounded-lg shadow-lg text-center max-w-lg w-full">
        <h1 class="text-2xl font-bold mb-4 text-blue-600">לימוד אנגלית</h1>

        <div class="flex justify-between items-center bg-blue-100 p-4 rounded-lg mb-4">
            <button id="prevSentenceBtn" class="text-2xl">⬅️ קודם</button>
            <p id="englishWord" class="text-lg font-semibold">לחץ כדי לקבל מילה</p>
            <button id="nextSentenceBtn" class="text-2xl">הבאה ➡</button>
        </div>

        <p id="sentenceNumber" class="text-gray-600 mb-3">מילה 1 מתוך 1000</p>

        <div class="bg-gray-200 p-4 rounded-lg relative cursor-pointer" id="translationContainer">
            <p id="hebrewTranslation" class="text-xl text-gray-800 font-bold mt-2">תרגום בעברית</p>
            <div id="coverLayer" class="absolute inset-0 bg-gray-300 flex items-center justify-center text-lg font-bold">לחץ לחשיפת התרגום</div>
        </div>

        <a href="flashcards.html" class="mt-4 inline-block bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600">📖 מעבר לכרטיסיות</a>
    </div>

    <script>
        let words = [];
        let currentIndex = 0;

        async function loadWords() {
            try {
                const response = await fetch("updated_sentences.json");
                words = await response.json();
                displayWord();
            } catch (error) {
                console.error("Failed to load words.", error);
            }
        }

        function displayWord() {
            if (words.length === 0) return;
            document.getElementById("englishWord").textContent = words[currentIndex].english;
            document.getElementById("hebrewTranslation").textContent = words[currentIndex].hebrew;
            document.getElementById("hebrewTranslation").classList.add("opacity-0");
            document.getElementById("coverLayer").classList.remove("hidden");
            document.getElementById("sentenceNumber").textContent = `מילה ${currentIndex + 1} מתוך ${words.length}`;
        }

        document.getElementById("translationContainer").addEventListener("click", function() {
            document.getElementById("coverLayer").classList.add("hidden");
            document.getElementById("hebrewTranslation").classList.remove("opacity-0");
        });

        document.getElementById("nextSentenceBtn")?.addEventListener("click", () => {
            currentIndex = (currentIndex + 1) % words.length;
            displayWord();
        });

        document.getElementById("prevSentenceBtn")?.addEventListener("click", () => {
            currentIndex = (currentIndex - 1 + words.length) % words.length;
            displayWord();
        });

        document.addEventListener("DOMContentLoaded", () => {
            loadWords();
        });
    </script>
</body>
</html>
